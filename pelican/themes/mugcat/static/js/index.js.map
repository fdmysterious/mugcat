{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","ajax.ts","ajaxifier.ts","components/header.ts","histhelp.ts","index.ts","lib/canvas.ts","lib/delaunay/index.js","lib/resize_event.ts","lib/triangles.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Req","_this","this","callbacks","done","resp","console","info","err","ev","error","progress","prog","xhr","XMLHttpRequest","onload","target","onprogress","lengthComputable","loaded","total","warn","NaN","onerror","status","prototype","html","url","responseType","open","send","supported","ajax","histhelp","reg_link_internal","enabled","wrapper","scripts_wrapper","prepareToDie","el","classList","add","setTimeout","remove","load","rr","body","response","getElementsByClassName","ajaxify","scripts","getElementsByTagName","i_1","sc","eval","text","document","title","children","ch","removeChild","appendChild","bind","window","page_loaded","init","addEventListener","location","toString","blck","links","hostname","hasAttribute","debug","onclick","preventDefault","history","pushState","href","Header","dom","main","HTMLElement","main_nav","unfold_height","innerHeight","log","menu_hide","menu_show","header_1","triangles_1","ajaxifier","components","Object","header","triangles","resize_event_1","Canvas","size","width","height","canvas","resize","draw","size_update","ctx","getContext","clientWidth","clientHeight","tstamp","clearRect","save","restore","Delaunay","EPSILON","circumcircle","vertices","j","k","xc","m1","m2","mx1","mx2","my1","my2","x1","y1","x2","y2","x3","y3","fabsy1y2","Math","abs","fabsy2y3","yc","x","y","dx","dy","triangulate","key","indices","st","closed","edges","b","slice","Array","sort","dmax","xmid","ymid","xmin","Number","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","max","push","splice","m","dedup","contains","tri","v","d","handle_time","running","innerWidth","callback_timeout","resize_event","handle","clearTimeout","requestAnimationFrame","run_callbacks","clbk","canvas_1","max_vel","animate","points","velocities","generate_points","random","triangle","idx","pts","tgs","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","loop","set_animate"],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/****************\n * AJAX helpers *\n ****************/\n// Florian Dupeyron (floolfy)\n// September 2018\n\nexport class Req\n{\n    // Callbacks\n    public callbacks = {\n        done     : ( resp : any    ) => { console.info ( \"XHR Done\"   , resp ); }, // TODO // Type\n        err      : ( ev   : any    ) => { console.error( \"XHR Error\"  , ev   ); }, // TODO // Type\n                                        \n        progress : ( prog : number ) => { console.info( \"XHR Progress\", prog ); }\n    };\n\n    private xhr : XMLHttpRequest;\n\n    ////////////////////////\n\n    constructor()\n    { \n        // Creating XHR\n        this.xhr = new XMLHttpRequest;\n\n        this.xhr.onload     = ( resp : any ) => { this.callbacks.done( resp.target ); }\n        this.xhr.onprogress = ( ev   : any ) => {\n            if( ev.lengthComputable ) {\n                this.callbacks.progress( ev.loaded / ev.total );\n            }\n\n            else {\n                console.warn(\"Could not compute xhr progress\");\n                this.callbacks.progress( NaN );\n            }\n        }\n\n        this.xhr.onerror    = ( ev : any ) => { this.callbacks.err( ev.target.status ); }\n    }\n\n    html( url : string )\n    {\n        this.xhr.responseType = \"document\";\n        this.xhr.open( \"GET\", url, true );\n        this.xhr.send( null );\n    }\n};\n\n////////////////////////\n// Various utils\n////////////////////////\n\nexport function supported() : boolean\n{\n    // TODO // Improve shit\n\n    try {\n        if(!XMLHttpRequest) throw false;\n    }\n\n    catch( e ) {\n        return false;\n    }\n\n    return true;\n}\n","/********************************\n * Various functions to ajaxify *\n * that beautiful website !     *\n ********************************/\n// Florian Dupeyron (floolfy)\n// September 2018\n\nimport * as ajax     from \"./ajax\";\nimport * as histhelp from \"./histhelp\";\n\n// Various status vars //\nexport let enabled                       = false;\nexport let wrapper         : HTMLElement =  null;\nexport let scripts_wrapper : HTMLElement = null;\n// End of section //\n\n////////////////////////////////\n// TODO // REMOVE THAAAAAAT\n////////////////////////////////\n//interface HighlightStatic {\n//    highlightBlock( block : Element ) : void;\n//}\n//\n//declare var hljs : HighlightStatic; // Fuck that shit\n//////////////////////////////////\n\ndeclare global {\n    interface Window {\n        page_loaded : () => void\n    }\n}\n\n// Some utils //\nlet reg_link_internal = /(https:\\/\\/mugcat.fr\\/)|\\/?.*$/;\n// End of setion //\n\nfunction prepareToDie( el : any )\n{\n    el.classList.add(\"mod_leave\");\n    setTimeout( () => { el.remove(); }, 200 );\n}\n\nexport function load( url : string )\n{\n    let rr = new ajax.Req();\n\n    rr.callbacks.done = ( resp : any ) => {\n        let body    = resp.response.body.getElementsByClassName(\"dynamic-wrapper\")[0];\n\n        if(body) {\n            ajaxify( body );\n\n            // Evaluate scripts\n            let scripts = body.getElementsByTagName(\"script\");\n            for( let i = 0 ; i < scripts.length ; i++ ) {\n                console.info(\"Found dynamic script\");\n                let sc = <HTMLScriptElement>scripts[i];\n                eval( sc.text );\n            }\n\n            // Set doc title\n            document.title = resp.response.title;\n\n\t\t\t// FIX // 2021-12-31: use children instead of childNodes to exclude text nodes\n\t\t\t// https://www.typescriptlang.org/docs/handbook/dom-manipulation.html\n\t\t\tlet i = wrapper.children.length;\n\t\t\twhile(i--) {\n\t\t\t\tlet ch = wrapper.children[i];\n\t\t\t\tprepareToDie(ch);\n\t\t\t}\n\n\t\t\t// Detach objects from imported body and insert into current dynamic wrapper\n\t\t\ti = body.children.length;\n\t\t\twhile(i > 0) {\n\t\t\t\tlet ch = body.removeChild(body.children[0]);\n\t\t\t\t<HTMLElement>ch.classList.add(\"mod_enter\");\n\n\t\t\t\twrapper.appendChild(ch);\n\t\t\t\tsetTimeout(function() {\n                    <HTMLElement>this.classList.remove(\"mod_enter\");\n\t\t\t\t}.bind(ch), 200);\n\n\t\t\t\ti = body.children.length;\n\t\t\t}\n\n            if( window.page_loaded ) window.page_loaded();\n        }\n\n        else { \n            console.error( \"Could not find dynamic wrapper :(\" );\n        }\n    };\n\n    rr.html( url );\n}\n\nexport function init() : void\n{\n    enabled         = ajax.supported() && histhelp.supported();\n    wrapper         = <HTMLElement>( document.getElementsByClassName( \"dynamic-wrapper\" )[0] );\n\n    if(!wrapper) {\n        console.error(\"Could not find dynamic wrapper\");\n        enabled = false;\n    }\n\n    // Configure history handlers\n    if( enabled ) {\n        window.addEventListener( 'popstate', () => { load( window.location.toString() ); } );\n    }\n\n\n    // Firstly, ajaxify all body\n    ajaxify( document.body );\n    if(window.page_loaded) window.page_loaded();\n}\n\nexport function ajaxify( blck : HTMLElement )\n{\n    let links = blck.getElementsByTagName( \"a\" );\n\n    for( let i = 0 ; i < links.length ; i++ ) {\n        let a = <HTMLAnchorElement>( links[i] );\n\n        if( (a.hostname == location.hostname) && (a.target !== \"_blank\") && (!a.hasAttribute(\"noajax\"))) {\n            console.debug(\"Found internal link\", a );\n\n            a.onclick = ( ev ) => {\n                ev.preventDefault();\n\n                history.pushState( {}, \"\", a.href );\n                load( a.href );\n            }\n        }\n    }\n}\n","/****************************************\n * Happy flavor for header manipulation *\n ****************************************/\n// Florian Dupeyron (floolfy)\n// September 2018\n\nexport default class Header\n{\n    dom = {\n        main     : HTMLElement = null,\n        main_nav : HTMLElement = null\n    };\n\n    unfold_height : number = 0;\n\n    constructor( dom : HTMLElement )\n    {\n        if(!dom) {\n            console.error(\"No header\");\n            return;\n        }\n\n        this.dom.main     = dom;\n        this.dom.main_nav = <HTMLElement>dom.getElementsByClassName(\"main-nav\")[0];\n\n        if(!this.dom.main_nav) {\n            console.error(\"Could not find main nav\");\n        }\n\n        else {\n            this.unfold_height = this.dom.main_nav.innerHeight;\n            console.log(\" => unfold menu height\", this.unfold_height );\n        }\n    }\n\n    menu_hide() { this.dom.main_nav.classList.add   (\"mod_hidden\"); }\n    menu_show() { this.dom.main_nav.classList.remove(\"mod_hidden\"); }\n}\n","/*************************************\n * Helpers to manage browser history *\n *************************************/\n// Florian Dupeyron (floolfy)\n// August 2018\n\nexport function supported()\n{\n    return !!(window.history && history.pushState);\n}\n","/******************************\n * Mugcat main source file :D *\n ******************************/\n// Florian Dupeyron (floolfy)\n// August 2018\n\nimport Header    from \"./components/header\";\n\nimport triangles from \"./lib/triangles\";\nimport * as ajax from \"./ajax\";\n\nimport * as ajaxifier from \"./ajaxifier\";\n\nvar motd = \" __  __                       _      __      \\n|  \\\\/  |                     | |    / _|     \\n| \\\\  / |_   _  __ _  ___ __ _| |_  | |_ _ __ \\n| |\\\\/| | | | |/ _` |/ __/ _` | __| |  _| '__|\\n| |  | | |_| | (_| | (_| (_| | |_ _| | | |   \\n|_|  |_|\\\\__,_|\\\\__, |\\\\___\\\\__,_|\\\\__(_)_| |_|   \\n               __/ |\\n              |___/   By Florian Dupeyron (floolfy)\\n\";\n \ndeclare global {\n    interface Window {\n        components : {\n            triangles : any,\n            header    : any\n        }\n        ajax       : any\n        ajaxifier  : any\n    }\n}\n\nwindow.addEventListener( 'load', () => {\n    window.components = Object();\n    window.ajax       = ajax;\n    window.ajaxifier  = ajaxifier;\n\n    // Adding components\n    window.components.header = new Header( <HTMLElement>document.getElementsByTagName(\"header\")[0] );\n\n    console.log(motd);\n\n    console.info( \"Init triangles background\" );\n    window.components.triangles = triangles( <HTMLElement>( document.getElementsByClassName(\"main-background\")[0]) );\n\n    console.info( \"Init ajaxifier\" );\n    ajaxifier.init();\n})\n","/*************\n * canvas.ts *\n *************\n Author      : Florian Dupeyron (Floolfy)\n Description : Manages canvas \n */\n\nimport resize_event from './resize_event';\n\nexport default class Canvas\n{\n    // DOM Elements //\n    dom : {\n        wrapper : HTMLElement,\n        canvas  : HTMLCanvasElement\n    }\n\n    ctx     : CanvasRenderingContext2D;\n    // End of section //\n\n    // State properties //\n    size : {\n        width  : number,\n        height : number\n    } = { width : 0, height : 0 }\n    // End of section //\n\n    // Callbacks //\n    public callbacks : {\n        resize : () => void,\n        draw   : () => void\n    }\n    // End of section //\n\n    constructor( wrapper : HTMLElement )\n    {\n        // Construct DOM //\n        this.dom = {\n            wrapper,\n            canvas : <HTMLCanvasElement>wrapper.getElementsByTagName(\"canvas\")[0]\n        };\n\n        this.callbacks = {\n            resize : function() {},\n            draw   : function() {}\n        }\n        // End of section //\n\n        // Construct size //\n        this.size_update();\n        // End of section //\n\n        // get canvas context //\n        this.ctx = <CanvasRenderingContext2D>this.dom.canvas.getContext(\"2d\");\n        // End of section //\n\n        // registering resize event handler //\n        // Note the usage of arrow fkt\n        resize_event.add( () => {\n            this.size_update();\n        });\n        // End of section //\n    }\n\n    size_update() : void\n    {\n        this.size = {\n            width  : this.dom.wrapper.clientWidth,\n            height : this.dom.wrapper.clientHeight\n        }\n\n        this.dom.canvas.width = this.size.width  ;\n        this.dom.canvas.height = this.size.height;\n\n        this.callbacks.resize.call( this );\n    }\n\n    draw( tstamp ) : void\n    {\n        this.ctx.clearRect( 0, 0, this.size.width, this.size.height );\n\n        this.ctx.save();\n        this.callbacks.draw.call( this );\n        this.ctx.restore();\n    }\n}\n","var Delaunay;\n\n(function() {\n  \"use strict\";\n\n  var EPSILON = 1.0 / 1048576.0;\n\n  function supertriangle(vertices) {\n    var xmin = Number.POSITIVE_INFINITY,\n        ymin = Number.POSITIVE_INFINITY,\n        xmax = Number.NEGATIVE_INFINITY,\n        ymax = Number.NEGATIVE_INFINITY,\n        i, dx, dy, dmax, xmid, ymid;\n\n    for(i = vertices.length; i--; ) {\n      if(vertices[i][0] < xmin) xmin = vertices[i][0];\n      if(vertices[i][0] > xmax) xmax = vertices[i][0];\n      if(vertices[i][1] < ymin) ymin = vertices[i][1];\n      if(vertices[i][1] > ymax) ymax = vertices[i][1];\n    }\n\n    dx = xmax - xmin;\n    dy = ymax - ymin;\n    dmax = Math.max(dx, dy);\n    xmid = xmin + dx * 0.5;\n    ymid = ymin + dy * 0.5;\n\n    return [\n      [xmid - 20 * dmax, ymid -      dmax],\n      [xmid            , ymid + 20 * dmax],\n      [xmid + 20 * dmax, ymid -      dmax]\n    ];\n  }\n\n  function circumcircle(vertices, i, j, k) {\n    var x1 = vertices[i][0],\n        y1 = vertices[i][1],\n        x2 = vertices[j][0],\n        y2 = vertices[j][1],\n        x3 = vertices[k][0],\n        y3 = vertices[k][1],\n        fabsy1y2 = Math.abs(y1 - y2),\n        fabsy2y3 = Math.abs(y2 - y3),\n        xc, yc, m1, m2, mx1, mx2, my1, my2, dx, dy;\n\n    /* Check for coincident points */\n    if(fabsy1y2 < EPSILON && fabsy2y3 < EPSILON)\n      throw new Error(\"Eek! Coincident points!\");\n\n    if(fabsy1y2 < EPSILON) {\n      m2  = -((x3 - x2) / (y3 - y2));\n      mx2 = (x2 + x3) / 2.0;\n      my2 = (y2 + y3) / 2.0;\n      xc  = (x2 + x1) / 2.0;\n      yc  = m2 * (xc - mx2) + my2;\n    }\n\n    else if(fabsy2y3 < EPSILON) {\n      m1  = -((x2 - x1) / (y2 - y1));\n      mx1 = (x1 + x2) / 2.0;\n      my1 = (y1 + y2) / 2.0;\n      xc  = (x3 + x2) / 2.0;\n      yc  = m1 * (xc - mx1) + my1;\n    }\n\n    else {\n      m1  = -((x2 - x1) / (y2 - y1));\n      m2  = -((x3 - x2) / (y3 - y2));\n      mx1 = (x1 + x2) / 2.0;\n      mx2 = (x2 + x3) / 2.0;\n      my1 = (y1 + y2) / 2.0;\n      my2 = (y2 + y3) / 2.0;\n      xc  = (m1 * mx1 - m2 * mx2 + my2 - my1) / (m1 - m2);\n      yc  = (fabsy1y2 > fabsy2y3) ?\n        m1 * (xc - mx1) + my1 :\n        m2 * (xc - mx2) + my2;\n    }\n\n    dx = x2 - xc;\n    dy = y2 - yc;\n    return {i: i, j: j, k: k, x: xc, y: yc, r: dx * dx + dy * dy};\n  }\n\n  function dedup(edges) {\n    var i, j, a, b, m, n;\n\n    for(j = edges.length; j; ) {\n      b = edges[--j];\n      a = edges[--j];\n\n      for(i = j; i; ) {\n        n = edges[--i];\n        m = edges[--i];\n\n        if((a === m && b === n) || (a === n && b === m)) {\n          edges.splice(j, 2);\n          edges.splice(i, 2);\n          break;\n        }\n      }\n    }\n  }\n\n  Delaunay = {\n    triangulate: function(vertices, key) {\n      var n = vertices.length,\n          i, j, indices, st, open, closed, edges, dx, dy, a, b, c;\n\n      /* Bail if there aren't enough vertices to form any triangles. */\n      if(n < 3)\n        return [];\n\n      /* Slice out the actual vertices from the passed objects. (Duplicate the\n       * array even if we don't, though, since we need to make a supertriangle\n       * later on!) */\n      vertices = vertices.slice(0);\n\n      if(key)\n        for(i = n; i--; )\n          vertices[i] = vertices[i][key];\n\n      /* Make an array of indices into the vertex array, sorted by the\n       * vertices' x-position. */\n      indices = new Array(n);\n\n      for(i = n; i--; )\n        indices[i] = i;\n\n      indices.sort(function(i, j) {\n        return vertices[j][0] - vertices[i][0];\n      });\n\n      /* Next, find the vertices of the supertriangle (which contains all other\n       * triangles), and append them onto the end of a (copy of) the vertex\n       * array. */\n      st = supertriangle(vertices);\n      vertices.push(st[0], st[1], st[2]);\n      \n      /* Initialize the open list (containing the supertriangle and nothing\n       * else) and the closed list (which is empty since we havn't processed\n       * any triangles yet). */\n      open   = [circumcircle(vertices, n + 0, n + 1, n + 2)];\n      closed = [];\n      edges  = [];\n\n      /* Incrementally add each vertex to the mesh. */\n      for(i = indices.length; i--; edges.length = 0) {\n        c = indices[i];\n\n        /* For each open triangle, check to see if the current point is\n         * inside it's circumcircle. If it is, remove the triangle and add\n         * it's edges to an edge list. */\n        for(j = open.length; j--; ) {\n          /* If this point is to the right of this triangle's circumcircle,\n           * then this triangle should never get checked again. Remove it\n           * from the open list, add it to the closed list, and skip. */\n          dx = vertices[c][0] - open[j].x;\n          if(dx > 0.0 && dx * dx > open[j].r) {\n            closed.push(open[j]);\n            open.splice(j, 1);\n            continue;\n          }\n\n          /* If we're outside the circumcircle, skip this triangle. */\n          dy = vertices[c][1] - open[j].y;\n          if(dx * dx + dy * dy - open[j].r > EPSILON)\n            continue;\n\n          /* Remove the triangle and add it's edges to the edge list. */\n          edges.push(\n            open[j].i, open[j].j,\n            open[j].j, open[j].k,\n            open[j].k, open[j].i\n          );\n          open.splice(j, 1);\n        }\n\n        /* Remove any doubled edges. */\n        dedup(edges);\n\n        /* Add a new triangle for each edge. */\n        for(j = edges.length; j; ) {\n          b = edges[--j];\n          a = edges[--j];\n          open.push(circumcircle(vertices, a, b, c));\n        }\n      }\n\n      /* Copy any remaining open triangles to the closed list, and then\n       * remove any triangles that share a vertex with the supertriangle,\n       * building a list of triplets that represent triangles. */\n      for(i = open.length; i--; )\n        closed.push(open[i]);\n      open.length = 0;\n\n      for(i = closed.length; i--; )\n        if(closed[i].i < n && closed[i].j < n && closed[i].k < n)\n          open.push(closed[i].i, closed[i].j, closed[i].k);\n\n      /* Yay, we're done! */\n      return open;\n    },\n    contains: function(tri, p) {\n      /* Bounding box test first, for quick rejections. */\n      if((p[0] < tri[0][0] && p[0] < tri[1][0] && p[0] < tri[2][0]) ||\n         (p[0] > tri[0][0] && p[0] > tri[1][0] && p[0] > tri[2][0]) ||\n         (p[1] < tri[0][1] && p[1] < tri[1][1] && p[1] < tri[2][1]) ||\n         (p[1] > tri[0][1] && p[1] > tri[1][1] && p[1] > tri[2][1]))\n        return null;\n\n      var a = tri[1][0] - tri[0][0],\n          b = tri[2][0] - tri[0][0],\n          c = tri[1][1] - tri[0][1],\n          d = tri[2][1] - tri[0][1],\n          i = a * d - b * c;\n\n      /* Degenerate tri. */\n      if(i === 0.0)\n        return null;\n\n      var u = (d * (p[0] - tri[0][0]) - b * (p[1] - tri[0][1])) / i,\n          v = (a * (p[1] - tri[0][1]) - c * (p[0] - tri[0][0])) / i;\n\n      /* If we're outside the tri, fail. */\n      if(u < 0.0 || v < 0.0 || (u + v) > 1.0)\n        return null;\n\n      return [u, v];\n    }\n  };\n\n  if(typeof module !== \"undefined\")\n    module.exports = Delaunay;\n})();\n","/****************************\n * Optimized resize handler *\n ****************************\n Author      : Florian Dupeyron (Floolfy)\n Description : Optimized resize event handler\n*/\n // Note // https://developer.mozilla.org/de/docs/Web/Events/resize\n// TODO // More consistent structure with class ?\n\nconst resize_event = (function() {\n    const handle_time = 66; // Time before calling requestAnimationFrame in ms\n\n    var callbacks : Array< () => void > = [];\n    let running   = false;\n\n    let callback_timeout : any;\n\n    function handle() {\n        if( running && callback_timeout ) clearTimeout( callback_timeout );\n        running = true;\n        callback_timeout = setTimeout( () => {\n            requestAnimationFrame( run_callbacks );\n        }, handle_time );\n    }\n\n    function run_callbacks() {\n        running = false;\n        for( let i = 0 ; i < callbacks.length ; i++ ) {\n            callbacks[i]();\n        }\n    }\n\n    function register( c : () => void ) {\n        callbacks.push( c );\n    }\n\n    function add( clbk : () => void) : void {\n            if(!callbacks.length) window.addEventListener(\"resize\", handle );\n            register( clbk )\n    }\n\n    add( () => {\n        console.debug( \"Got new window size : \", { width : window.innerWidth , height : window.innerHeight });\n    });\n    return { add }\n})();\n\nexport default resize_event;\n","/***********************\n * triangles animation *\n ***********************\n Author      : Florian Dupeyron (Floolfy)\n Description : Triangle background animation generator\n*/\n\nimport             './delaunay';\nimport Canvas from './canvas';\n\ninterface DelaunayStatic {\n  triangulate(vertices: number[][], key?: number): number[];\n} // DelaunayStatic\n\ndeclare var Delaunay: DelaunayStatic;\nexport default function triangles( wrapper : HTMLElement )\n{\n    // Constants //\n    const points_num   = 30;\n    const extra_points = 5;\n    const max_vel      = .2;\n    // Fin de la section //\n\n    // State //\n    let animate = false;\n    // End of section //\n\n    let canvas = new Canvas(wrapper);\n\n    // Points //\n    let points     : number[][] = [];\n    let velocities : number[][] = [];\n    // End of section //\n\n    function generate_points()\n    {\n        console.debug(\"Generating triangle points !\");\n\n        points     = [];\n        velocities = [];\n\n        for( let i = 0 ; i < points_num ; i++ ) {\n            let p = [\n                Math.random() * canvas.size.width,\n                Math.random() * canvas.size.height\n            ];\n            points.push( p );\n\n            let v = [\n                Math.random() * 2 * max_vel - max_vel,\n                Math.random() * 2 * max_vel - max_vel\n            ];\n            velocities.push( v );\n        }\n\n        for( let i = 0 ; i < extra_points ; i++ ) {\n            // left\n            points.push([ 0, (canvas.size.height / extra_points) * i ]);\n\n            // Right\n            points.push([ canvas.size.width, (canvas.size.height / extra_points) * i ]);\n\n            // Top\n            points.push([ (canvas.size.width / extra_points) * i, 0 ]);\n\n            // Down\n            points.push([ (canvas.size.width / extra_points) * i, canvas.size.height ]);\n        }\n    }\n\n    function update_point( idx : number )\n    {\n        // Moving point //\n        points[idx][0] += velocities[idx][0];\n        points[idx][1] += velocities[idx][1];\n        // End of section //\n\n        // Check if in box //\n        if( points[idx][0] < 0 ) {\n            points[idx][0] = canvas.size.width;\n            points[idx][1] = Math.random() * canvas.size.height;\n            velocities[idx][0] = Math.random() * -max_vel;\n        }\n        else if( points[idx][0] > canvas.size.width ) {\n            points[idx][0] = 0;\n            points[idx][1] = Math.random() * canvas.size.height;\n            velocities[idx][0] = Math.random() * max_vel;\n        }\n\n        if(points[idx][1] < 0 ) {\n            points[idx][1] = canvas.size.height;\n            points[idx][0] = Math.random() * canvas.size.width;\n            velocities[idx][1] = Math.random() * -max_vel;\n        }\n\n        else if(points[idx][1] > canvas.size.height ) {\n            points[idx][1] = 0;\n            points[idx][0] = Math.random() * canvas.size.width;\n            velocities[idx][1] = Math.random() * max_vel;\n        }\n        // End of section //\n    }\n\n    function draw_point( p : Array<number> )\n    {\n        canvas.ctx.fillStyle = \"rgba(198, 147, 149, 0.5)\";\n\n        canvas.ctx.beginPath();\n        canvas.ctx.arc( p[0], p[1], 10, 0, 2 * Math.PI );\n        canvas.ctx.fill();\n    }\n\n    function draw_triangle( pts : Array<Array<number>> )\n    {\n        canvas.ctx.strokeStyle = \"rgba(198, 147, 149, 0.05)\";\n        canvas.ctx.lineWidth   = 3;\n\n        canvas.ctx.beginPath();\n        canvas.ctx.moveTo( pts[0][0], pts[0][1] );\n        canvas.ctx.lineTo( pts[1][0], pts[1][1] );\n        canvas.ctx.lineTo( pts[2][0], pts[2][1] );\n        canvas.ctx.stroke();\n    }\n\n    let triangle : number[][] = [];\n    function draw()\n    {\n        for( let i = 0 ; i < points_num ; i++ ) {\n            update_point( i );\n        }\n\n        try {\n            let tgs = Delaunay.triangulate( points );\n            for( let i = tgs.length ; i; ) {\n                triangle[0] = points[ tgs[i-1] ];\n                triangle[1] = points[ tgs[i-2] ];\n                triangle[2] = points[ tgs[i-3] ];\n                i -= 3;\n                draw_triangle( triangle );\n            }\n        }\n        finally{}\n    }\n    // End of section //\n\n    // Canvas handle stuff & loop //\n    canvas.callbacks.resize = () => {\n        generate_points();\n        requestAnimationFrame( loop );\n    }\n    // End of section //\n\n    // Main loop stuff //\n    canvas.callbacks.draw = () => {\n        draw();\n    }\n\n    function loop( tstamp : number ) {\n        canvas.draw( tstamp );\n        if( animate ) requestAnimationFrame( loop ); // added this boolean as this animation consumes much CPU\n    }\n    generate_points();\n    requestAnimationFrame( loop );\n    // End of section //\n\n    return {\n        set_animate( v : boolean ) {\n            console.debug(\"set animate\", v );\n            animate = v;\n            if(animate) requestAnimationFrame( loop );\n        }\n    }\n}\n"]}