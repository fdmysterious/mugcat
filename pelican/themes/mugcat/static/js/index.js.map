{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","ajax.ts","ajaxifier.ts","components/header.ts","histhelp.ts","index.ts","lib/canvas.ts","lib/delaunay/index.js","lib/resize_event.ts","lib/triangles.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","Req","prototype","html","url","this","xhr","responseType","open","send","_this","callbacks","done","resp","console","info","err","ev","error","progress","prog","XMLHttpRequest","onload","target","onprogress","lengthComputable","loaded","total","warn","NaN","onerror","status","supported","ajax","histhelp","enabled","wrapper","scripts_wrapper","reg_link_internal","prepareToDie","el","classList","add","setTimeout","remove","load","rr","body","response","getElementsByClassName","ajaxify","scripts","getElementsByTagName","i_1","sc","eval","text","document","title","children","ch","removeChild","appendChild","bind","window","page_loaded","init","addEventListener","location","toString","blck","links","hostname","hasAttribute","debug","onclick","preventDefault","history","pushState","href","Header","menu_hide","dom","main_nav","menu_show","main","HTMLElement","unfold_height","innerHeight","log","header_1","triangles_1","ajaxifier","components","Object","header","triangles","resize_event_1","Canvas","size_update","size","width","clientWidth","height","clientHeight","canvas","resize","draw","tstamp","ctx","clearRect","save","restore","getContext","Delaunay","EPSILON","circumcircle","vertices","j","k","m1","m2","mx1","mx2","my1","dx","dy","x1","y1","x2","y2","x3","y3","fabsy1y2","Math","abs","fabsy2y3","yc","xc","my2","x","y","triangulate","key","indices","st","closed","edges","b","slice","Array","sort","dmax","xmid","ymid","xmin","Number","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","max","supertriangle","push","splice","m","dedup","contains","tri","d","v","callback_timeout","handle_time","running","resize_event","innerWidth","handle","clearTimeout","requestAnimationFrame","run_callbacks","clbk","canvas_1","max_vel","animate","points","velocities","generate_points","random","triangle","idx","pts","tgs","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","loop","set_animate"],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/****************\n * AJAX helpers *\n ****************/\n// Florian Dupeyron (floolfy)\n// September 2018\n\nexport class Req\n{\n    // Callbacks\n    public callbacks = {\n        done     : ( resp : any    ) => { console.info ( \"XHR Done\"   , resp ); }, // TODO // Type\n        err      : ( ev   : any    ) => { console.error( \"XHR Error\"  , ev   ); }, // TODO // Type\n                                        \n        progress : ( prog : number ) => { console.info( \"XHR Progress\", prog ); }\n    };\n\n    private xhr : XMLHttpRequest;\n\n    ////////////////////////\n\n    constructor()\n    { \n        // Creating XHR\n        this.xhr = new XMLHttpRequest;\n\n        this.xhr.onload     = ( resp : any ) => { this.callbacks.done( resp.target ); }\n        this.xhr.onprogress = ( ev   : any ) => {\n            if( ev.lengthComputable ) {\n                this.callbacks.progress( ev.loaded / ev.total );\n            }\n\n            else {\n                console.warn(\"Could not compute xhr progress\");\n                this.callbacks.progress( NaN );\n            }\n        }\n\n        this.xhr.onerror    = ( ev : any ) => { this.callbacks.err( ev.target.status ); }\n    }\n\n    html( url : string )\n    {\n        this.xhr.responseType = \"document\";\n        this.xhr.open( \"GET\", url, true );\n        this.xhr.send( null );\n    }\n};\n\n////////////////////////\n// Various utils\n////////////////////////\n\nexport function supported() : boolean\n{\n    // TODO // Improve shit\n\n    try {\n        if(!XMLHttpRequest) throw false;\n    }\n\n    catch( e ) {\n        return false;\n    }\n\n    return true;\n}\n","/********************************\n * Various functions to ajaxify *\n * that beautiful website !     *\n ********************************/\n// Florian Dupeyron (floolfy)\n// September 2018\n\nimport * as ajax     from \"./ajax\";\nimport * as histhelp from \"./histhelp\";\n\n// Various status vars //\nexport let enabled                       = false;\nexport let wrapper         : HTMLElement =  null;\nexport let scripts_wrapper : HTMLElement = null;\n// End of section //\n\n////////////////////////////////\n// TODO // REMOVE THAAAAAAT\n////////////////////////////////\n//interface HighlightStatic {\n//    highlightBlock( block : Element ) : void;\n//}\n//\n//declare var hljs : HighlightStatic; // Fuck that shit\n//////////////////////////////////\n\ndeclare global {\n    interface Window {\n        page_loaded : () => void\n    }\n}\n\n// Some utils //\nlet reg_link_internal = /(https:\\/\\/mugcat.fr\\/)|\\/?.*$/;\n// End of setion //\n\nfunction prepareToDie( el : any )\n{\n    el.classList.add(\"mod_leave\");\n    setTimeout( () => { el.remove(); }, 200 );\n}\n\nexport function load( url : string )\n{\n    let rr = new ajax.Req();\n\n    rr.callbacks.done = ( resp : any ) => {\n        let body    = resp.response.body.getElementsByClassName(\"dynamic-wrapper\")[0];\n\n        if(body) {\n            ajaxify( body );\n\n            // Evaluate scripts\n            let scripts = body.getElementsByTagName(\"script\");\n            for( let i = 0 ; i < scripts.length ; i++ ) {\n                console.info(\"Found dynamic script\");\n                let sc = <HTMLScriptElement>scripts[i];\n                eval( sc.text );\n            }\n\n            // Set doc title\n            document.title = resp.response.title;\n\n\t\t\t// FIX // 2021-12-31: use children instead of childNodes to exclude text nodes\n\t\t\t// https://www.typescriptlang.org/docs/handbook/dom-manipulation.html\n\t\t\tlet i = wrapper.children.length;\n\t\t\twhile(i--) {\n\t\t\t\tlet ch = wrapper.children[i];\n\t\t\t\tprepareToDie(ch);\n\t\t\t}\n\n\t\t\t// Detach objects from imported body and insert into current dynamic wrapper\n\t\t\ti = body.children.length;\n\t\t\twhile(i > 0) {\n\t\t\t\tlet ch = body.removeChild(body.children[0]);\n\t\t\t\t<HTMLElement>ch.classList.add(\"mod_enter\");\n\n\t\t\t\twrapper.appendChild(ch);\n\t\t\t\tsetTimeout(function() {\n                    <HTMLElement>this.classList.remove(\"mod_enter\");\n\t\t\t\t}.bind(ch), 200);\n\n\t\t\t\ti = body.children.length;\n\t\t\t}\n\n            if( window.page_loaded ) window.page_loaded();\n        }\n\n        else { \n            console.error( \"Could not find dynamic wrapper :(\" );\n        }\n    };\n\n    rr.html( url );\n}\n\nexport function init() : void\n{\n    enabled         = ajax.supported() && histhelp.supported();\n    wrapper         = <HTMLElement>( document.getElementsByClassName( \"dynamic-wrapper\" )[0] );\n\n    if(!wrapper) {\n        console.error(\"Could not find dynamic wrapper\");\n        enabled = false;\n    }\n\n    // Configure history handlers\n    if( enabled ) {\n        window.addEventListener( 'popstate', () => { load( window.location.toString() ); } );\n    }\n\n\n    // Firstly, ajaxify all body\n    ajaxify( document.body );\n    if(window.page_loaded) window.page_loaded();\n}\n\nexport function ajaxify( blck : HTMLElement )\n{\n    let links = blck.getElementsByTagName( \"a\" );\n\n    for( let i = 0 ; i < links.length ; i++ ) {\n        let a = <HTMLAnchorElement>( links[i] );\n\n        if( (a.hostname == location.hostname) && (a.target !== \"_blank\") && (!a.hasAttribute(\"noajax\"))) {\n            console.debug(\"Found internal link\", a );\n\n            a.onclick = ( ev ) => {\n                ev.preventDefault();\n\n                history.pushState( {}, \"\", a.href );\n                load( a.href );\n            }\n        }\n    }\n}\n","/****************************************\n * Happy flavor for header manipulation *\n ****************************************/\n// Florian Dupeyron (floolfy)\n// September 2018\n\nexport default class Header\n{\n    dom = {\n        main     : HTMLElement = null,\n        main_nav : HTMLElement = null\n    };\n\n    unfold_height : number = 0;\n\n    constructor( dom : HTMLElement )\n    {\n        if(!dom) {\n            console.error(\"No header\");\n            return;\n        }\n\n        this.dom.main     = dom;\n        this.dom.main_nav = <HTMLElement>dom.getElementsByClassName(\"main-nav\")[0];\n\n        if(!this.dom.main_nav) {\n            console.error(\"Could not find main nav\");\n        }\n\n        else {\n            this.unfold_height = this.dom.main_nav.innerHeight;\n            console.log(\" => unfold menu height\", this.unfold_height );\n        }\n    }\n\n    menu_hide() { this.dom.main_nav.classList.add   (\"mod_hidden\"); }\n    menu_show() { this.dom.main_nav.classList.remove(\"mod_hidden\"); }\n}\n","/*************************************\n * Helpers to manage browser history *\n *************************************/\n// Florian Dupeyron (floolfy)\n// August 2018\n\nexport function supported()\n{\n    return !!(window.history && history.pushState);\n}\n","/******************************\n * Mugcat main source file :D *\n ******************************/\n// Florian Dupeyron (floolfy)\n// August 2018\n\nimport Header    from \"./components/header\";\n\nimport triangles from \"./lib/triangles\";\nimport * as ajax from \"./ajax\";\n\nimport * as ajaxifier from \"./ajaxifier\";\n\nvar motd = \" __  __                       _      __      \\n|  \\\\/  |                     | |    / _|     \\n| \\\\  / |_   _  __ _  ___ __ _| |_  | |_ _ __ \\n| |\\\\/| | | | |/ _` |/ __/ _` | __| |  _| '__|\\n| |  | | |_| | (_| | (_| (_| | |_ _| | | |   \\n|_|  |_|\\\\__,_|\\\\__, |\\\\___\\\\__,_|\\\\__(_)_| |_|   \\n               __/ |\\n              |___/   By Florian Dupeyron (floolfy)\\n\";\n \ndeclare global {\n    interface Window {\n        components : {\n            triangles : any,\n            header    : any\n        }\n        ajax       : any\n        ajaxifier  : any\n    }\n}\n\nwindow.addEventListener( 'load', () => {\n    window.components = Object();\n    window.ajax       = ajax;\n    window.ajaxifier  = ajaxifier;\n\n    // Adding components\n    window.components.header = new Header( <HTMLElement>document.getElementsByTagName(\"header\")[0] );\n\n    console.log(motd);\n\n    console.info( \"Init triangles background\" );\n    window.components.triangles = triangles( <HTMLElement>( document.getElementsByClassName(\"main-background\")[0]) );\n\n    console.info( \"Init ajaxifier\" );\n    ajaxifier.init();\n})\n","/*************\n * canvas.ts *\n *************\n Author      : Florian Dupeyron (Floolfy)\n Description : Manages canvas \n */\n\nimport resize_event from './resize_event';\n\nexport default class Canvas\n{\n    // DOM Elements //\n    dom : {\n        wrapper : HTMLElement,\n        canvas  : HTMLCanvasElement\n    }\n\n    ctx     : CanvasRenderingContext2D;\n    // End of section //\n\n    // State properties //\n    size : {\n        width  : number,\n        height : number\n    } = { width : 0, height : 0 }\n    // End of section //\n\n    // Callbacks //\n    public callbacks : {\n        resize : () => void,\n        draw   : () => void\n    }\n    // End of section //\n\n    constructor( wrapper : HTMLElement )\n    {\n        // Construct DOM //\n        this.dom = {\n            wrapper,\n            canvas : <HTMLCanvasElement>wrapper.getElementsByTagName(\"canvas\")[0]\n        };\n\n        this.callbacks = {\n            resize : function() {},\n            draw   : function() {}\n        }\n        // End of section //\n\n        // Construct size //\n        this.size_update();\n        // End of section //\n\n        // get canvas context //\n        this.ctx = <CanvasRenderingContext2D>this.dom.canvas.getContext(\"2d\");\n        // End of section //\n\n        // registering resize event handler //\n        // Note the usage of arrow fkt\n        resize_event.add( () => {\n            this.size_update();\n        });\n        // End of section //\n    }\n\n    size_update() : void\n    {\n        this.size = {\n            width  : this.dom.wrapper.clientWidth,\n            height : this.dom.wrapper.clientHeight\n        }\n\n        this.dom.canvas.width = this.size.width  ;\n        this.dom.canvas.height = this.size.height;\n\n        this.callbacks.resize.call( this );\n    }\n\n    draw( tstamp ) : void\n    {\n        this.ctx.clearRect( 0, 0, this.size.width, this.size.height );\n\n        this.ctx.save();\n        this.callbacks.draw.call( this );\n        this.ctx.restore();\n    }\n}\n","var Delaunay;\n\n(function() {\n  \"use strict\";\n\n  var EPSILON = 1.0 / 1048576.0;\n\n  function supertriangle(vertices) {\n    var xmin = Number.POSITIVE_INFINITY,\n        ymin = Number.POSITIVE_INFINITY,\n        xmax = Number.NEGATIVE_INFINITY,\n        ymax = Number.NEGATIVE_INFINITY,\n        i, dx, dy, dmax, xmid, ymid;\n\n    for(i = vertices.length; i--; ) {\n      if(vertices[i][0] < xmin) xmin = vertices[i][0];\n      if(vertices[i][0] > xmax) xmax = vertices[i][0];\n      if(vertices[i][1] < ymin) ymin = vertices[i][1];\n      if(vertices[i][1] > ymax) ymax = vertices[i][1];\n    }\n\n    dx = xmax - xmin;\n    dy = ymax - ymin;\n    dmax = Math.max(dx, dy);\n    xmid = xmin + dx * 0.5;\n    ymid = ymin + dy * 0.5;\n\n    return [\n      [xmid - 20 * dmax, ymid -      dmax],\n      [xmid            , ymid + 20 * dmax],\n      [xmid + 20 * dmax, ymid -      dmax]\n    ];\n  }\n\n  function circumcircle(vertices, i, j, k) {\n    var x1 = vertices[i][0],\n        y1 = vertices[i][1],\n        x2 = vertices[j][0],\n        y2 = vertices[j][1],\n        x3 = vertices[k][0],\n        y3 = vertices[k][1],\n        fabsy1y2 = Math.abs(y1 - y2),\n        fabsy2y3 = Math.abs(y2 - y3),\n        xc, yc, m1, m2, mx1, mx2, my1, my2, dx, dy;\n\n    /* Check for coincident points */\n    if(fabsy1y2 < EPSILON && fabsy2y3 < EPSILON)\n      throw new Error(\"Eek! Coincident points!\");\n\n    if(fabsy1y2 < EPSILON) {\n      m2  = -((x3 - x2) / (y3 - y2));\n      mx2 = (x2 + x3) / 2.0;\n      my2 = (y2 + y3) / 2.0;\n      xc  = (x2 + x1) / 2.0;\n      yc  = m2 * (xc - mx2) + my2;\n    }\n\n    else if(fabsy2y3 < EPSILON) {\n      m1  = -((x2 - x1) / (y2 - y1));\n      mx1 = (x1 + x2) / 2.0;\n      my1 = (y1 + y2) / 2.0;\n      xc  = (x3 + x2) / 2.0;\n      yc  = m1 * (xc - mx1) + my1;\n    }\n\n    else {\n      m1  = -((x2 - x1) / (y2 - y1));\n      m2  = -((x3 - x2) / (y3 - y2));\n      mx1 = (x1 + x2) / 2.0;\n      mx2 = (x2 + x3) / 2.0;\n      my1 = (y1 + y2) / 2.0;\n      my2 = (y2 + y3) / 2.0;\n      xc  = (m1 * mx1 - m2 * mx2 + my2 - my1) / (m1 - m2);\n      yc  = (fabsy1y2 > fabsy2y3) ?\n        m1 * (xc - mx1) + my1 :\n        m2 * (xc - mx2) + my2;\n    }\n\n    dx = x2 - xc;\n    dy = y2 - yc;\n    return {i: i, j: j, k: k, x: xc, y: yc, r: dx * dx + dy * dy};\n  }\n\n  function dedup(edges) {\n    var i, j, a, b, m, n;\n\n    for(j = edges.length; j; ) {\n      b = edges[--j];\n      a = edges[--j];\n\n      for(i = j; i; ) {\n        n = edges[--i];\n        m = edges[--i];\n\n        if((a === m && b === n) || (a === n && b === m)) {\n          edges.splice(j, 2);\n          edges.splice(i, 2);\n          break;\n        }\n      }\n    }\n  }\n\n  Delaunay = {\n    triangulate: function(vertices, key) {\n      var n = vertices.length,\n          i, j, indices, st, open, closed, edges, dx, dy, a, b, c;\n\n      /* Bail if there aren't enough vertices to form any triangles. */\n      if(n < 3)\n        return [];\n\n      /* Slice out the actual vertices from the passed objects. (Duplicate the\n       * array even if we don't, though, since we need to make a supertriangle\n       * later on!) */\n      vertices = vertices.slice(0);\n\n      if(key)\n        for(i = n; i--; )\n          vertices[i] = vertices[i][key];\n\n      /* Make an array of indices into the vertex array, sorted by the\n       * vertices' x-position. */\n      indices = new Array(n);\n\n      for(i = n; i--; )\n        indices[i] = i;\n\n      indices.sort(function(i, j) {\n        return vertices[j][0] - vertices[i][0];\n      });\n\n      /* Next, find the vertices of the supertriangle (which contains all other\n       * triangles), and append them onto the end of a (copy of) the vertex\n       * array. */\n      st = supertriangle(vertices);\n      vertices.push(st[0], st[1], st[2]);\n      \n      /* Initialize the open list (containing the supertriangle and nothing\n       * else) and the closed list (which is empty since we havn't processed\n       * any triangles yet). */\n      open   = [circumcircle(vertices, n + 0, n + 1, n + 2)];\n      closed = [];\n      edges  = [];\n\n      /* Incrementally add each vertex to the mesh. */\n      for(i = indices.length; i--; edges.length = 0) {\n        c = indices[i];\n\n        /* For each open triangle, check to see if the current point is\n         * inside it's circumcircle. If it is, remove the triangle and add\n         * it's edges to an edge list. */\n        for(j = open.length; j--; ) {\n          /* If this point is to the right of this triangle's circumcircle,\n           * then this triangle should never get checked again. Remove it\n           * from the open list, add it to the closed list, and skip. */\n          dx = vertices[c][0] - open[j].x;\n          if(dx > 0.0 && dx * dx > open[j].r) {\n            closed.push(open[j]);\n            open.splice(j, 1);\n            continue;\n          }\n\n          /* If we're outside the circumcircle, skip this triangle. */\n          dy = vertices[c][1] - open[j].y;\n          if(dx * dx + dy * dy - open[j].r > EPSILON)\n            continue;\n\n          /* Remove the triangle and add it's edges to the edge list. */\n          edges.push(\n            open[j].i, open[j].j,\n            open[j].j, open[j].k,\n            open[j].k, open[j].i\n          );\n          open.splice(j, 1);\n        }\n\n        /* Remove any doubled edges. */\n        dedup(edges);\n\n        /* Add a new triangle for each edge. */\n        for(j = edges.length; j; ) {\n          b = edges[--j];\n          a = edges[--j];\n          open.push(circumcircle(vertices, a, b, c));\n        }\n      }\n\n      /* Copy any remaining open triangles to the closed list, and then\n       * remove any triangles that share a vertex with the supertriangle,\n       * building a list of triplets that represent triangles. */\n      for(i = open.length; i--; )\n        closed.push(open[i]);\n      open.length = 0;\n\n      for(i = closed.length; i--; )\n        if(closed[i].i < n && closed[i].j < n && closed[i].k < n)\n          open.push(closed[i].i, closed[i].j, closed[i].k);\n\n      /* Yay, we're done! */\n      return open;\n    },\n    contains: function(tri, p) {\n      /* Bounding box test first, for quick rejections. */\n      if((p[0] < tri[0][0] && p[0] < tri[1][0] && p[0] < tri[2][0]) ||\n         (p[0] > tri[0][0] && p[0] > tri[1][0] && p[0] > tri[2][0]) ||\n         (p[1] < tri[0][1] && p[1] < tri[1][1] && p[1] < tri[2][1]) ||\n         (p[1] > tri[0][1] && p[1] > tri[1][1] && p[1] > tri[2][1]))\n        return null;\n\n      var a = tri[1][0] - tri[0][0],\n          b = tri[2][0] - tri[0][0],\n          c = tri[1][1] - tri[0][1],\n          d = tri[2][1] - tri[0][1],\n          i = a * d - b * c;\n\n      /* Degenerate tri. */\n      if(i === 0.0)\n        return null;\n\n      var u = (d * (p[0] - tri[0][0]) - b * (p[1] - tri[0][1])) / i,\n          v = (a * (p[1] - tri[0][1]) - c * (p[0] - tri[0][0])) / i;\n\n      /* If we're outside the tri, fail. */\n      if(u < 0.0 || v < 0.0 || (u + v) > 1.0)\n        return null;\n\n      return [u, v];\n    }\n  };\n\n  if(typeof module !== \"undefined\")\n    module.exports = Delaunay;\n})();\n","/****************************\n * Optimized resize handler *\n ****************************\n Author      : Florian Dupeyron (Floolfy)\n Description : Optimized resize event handler\n*/\n // Note // https://developer.mozilla.org/de/docs/Web/Events/resize\n// TODO // More consistent structure with class ?\n\nconst resize_event = (function() {\n    const handle_time = 66; // Time before calling requestAnimationFrame in ms\n\n    var callbacks : Array< () => void > = [];\n    let running   = false;\n\n    let callback_timeout : any;\n\n    function handle() {\n        if( running && callback_timeout ) clearTimeout( callback_timeout );\n        running = true;\n        callback_timeout = setTimeout( () => {\n            requestAnimationFrame( run_callbacks );\n        }, handle_time );\n    }\n\n    function run_callbacks() {\n        running = false;\n        for( let i = 0 ; i < callbacks.length ; i++ ) {\n            callbacks[i]();\n        }\n    }\n\n    function register( c : () => void ) {\n        callbacks.push( c );\n    }\n\n    function add( clbk : () => void) : void {\n            if(!callbacks.length) window.addEventListener(\"resize\", handle );\n            register( clbk )\n    }\n\n    add( () => {\n        console.debug( \"Got new window size : \", { width : window.innerWidth , height : window.innerHeight });\n    });\n    return { add }\n})();\n\nexport default resize_event;\n","/***********************\n * triangles animation *\n ***********************\n Author      : Florian Dupeyron (Floolfy)\n Description : Triangle background animation generator\n*/\n\nimport             './delaunay';\nimport Canvas from './canvas';\n\ninterface DelaunayStatic {\n  triangulate(vertices: number[][], key?: number): number[];\n} // DelaunayStatic\n\ndeclare var Delaunay: DelaunayStatic;\nexport default function triangles( wrapper : HTMLElement )\n{\n    // Constants //\n    const points_num   = 30;\n    const extra_points = 5;\n    const max_vel      = .2;\n    // Fin de la section //\n\n    // State //\n    let animate = false;\n    // End of section //\n\n    let canvas = new Canvas(wrapper);\n\n    // Points //\n    let points     : number[][] = [];\n    let velocities : number[][] = [];\n    // End of section //\n\n    function generate_points()\n    {\n        console.debug(\"Generating triangle points !\");\n\n        points     = [];\n        velocities = [];\n\n        for( let i = 0 ; i < points_num ; i++ ) {\n            let p = [\n                Math.random() * canvas.size.width,\n                Math.random() * canvas.size.height\n            ];\n            points.push( p );\n\n            let v = [\n                Math.random() * 2 * max_vel - max_vel,\n                Math.random() * 2 * max_vel - max_vel\n            ];\n            velocities.push( v );\n        }\n\n        for( let i = 0 ; i < extra_points ; i++ ) {\n            // left\n            points.push([ 0, (canvas.size.height / extra_points) * i ]);\n\n            // Right\n            points.push([ canvas.size.width, (canvas.size.height / extra_points) * i ]);\n\n            // Top\n            points.push([ (canvas.size.width / extra_points) * i, 0 ]);\n\n            // Down\n            points.push([ (canvas.size.width / extra_points) * i, canvas.size.height ]);\n        }\n    }\n\n    function update_point( idx : number )\n    {\n        // Moving point //\n        points[idx][0] += velocities[idx][0];\n        points[idx][1] += velocities[idx][1];\n        // End of section //\n\n        // Check if in box //\n        if( points[idx][0] < 0 ) {\n            points[idx][0] = canvas.size.width;\n            points[idx][1] = Math.random() * canvas.size.height;\n            velocities[idx][0] = Math.random() * -max_vel;\n        }\n        else if( points[idx][0] > canvas.size.width ) {\n            points[idx][0] = 0;\n            points[idx][1] = Math.random() * canvas.size.height;\n            velocities[idx][0] = Math.random() * max_vel;\n        }\n\n        if(points[idx][1] < 0 ) {\n            points[idx][1] = canvas.size.height;\n            points[idx][0] = Math.random() * canvas.size.width;\n            velocities[idx][1] = Math.random() * -max_vel;\n        }\n\n        else if(points[idx][1] > canvas.size.height ) {\n            points[idx][1] = 0;\n            points[idx][0] = Math.random() * canvas.size.width;\n            velocities[idx][1] = Math.random() * max_vel;\n        }\n        // End of section //\n    }\n\n    function draw_point( p : Array<number> )\n    {\n        canvas.ctx.fillStyle = \"rgba(198, 147, 149, 0.5)\";\n\n        canvas.ctx.beginPath();\n        canvas.ctx.arc( p[0], p[1], 10, 0, 2 * Math.PI );\n        canvas.ctx.fill();\n    }\n\n    function draw_triangle( pts : Array<Array<number>> )\n    {\n        canvas.ctx.strokeStyle = \"rgba(198, 147, 149, 0.05)\";\n        canvas.ctx.lineWidth   = 3;\n\n        canvas.ctx.beginPath();\n        canvas.ctx.moveTo( pts[0][0], pts[0][1] );\n        canvas.ctx.lineTo( pts[1][0], pts[1][1] );\n        canvas.ctx.lineTo( pts[2][0], pts[2][1] );\n        canvas.ctx.stroke();\n    }\n\n    let triangle : number[][] = [];\n    function draw()\n    {\n        for( let i = 0 ; i < points_num ; i++ ) {\n            update_point( i );\n        }\n\n        try {\n            let tgs = Delaunay.triangulate( points );\n            for( let i = tgs.length ; i; ) {\n                triangle[0] = points[ tgs[i-1] ];\n                triangle[1] = points[ tgs[i-2] ];\n                triangle[2] = points[ tgs[i-3] ];\n                i -= 3;\n                draw_triangle( triangle );\n            }\n        }\n        finally{}\n    }\n    // End of section //\n\n    // Canvas handle stuff & loop //\n    canvas.callbacks.resize = () => {\n        generate_points();\n        requestAnimationFrame( loop );\n    }\n    // End of section //\n\n    // Main loop stuff //\n    canvas.callbacks.draw = () => {\n        draw();\n    }\n\n    function loop( tstamp : number ) {\n        canvas.draw( tstamp );\n        if( animate ) requestAnimationFrame( loop ); // added this boolean as this animation consumes much CPU\n    }\n    generate_points();\n    requestAnimationFrame( loop );\n    // End of section //\n\n    return {\n        set_animate( v : boolean ) {\n            console.debug(\"set animate\", v );\n            animate = v;\n            if(animate) requestAnimationFrame( loop );\n        }\n    }\n}\n"]}