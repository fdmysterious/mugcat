!function i(o,r,a){function s(t,e){if(!r[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,i,o,r,a)}return r[t].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";n.__esModule=!0,n.supported=n.Req=void 0;var i=(o.prototype.html=function(e){this.xhr.responseType="document",this.xhr.open("GET",e,!0),this.xhr.send(null)},o);function o(){var t=this;this.callbacks={done:function(e){console.info("XHR Done",e)},err:function(e){console.error("XHR Error",e)},progress:function(e){console.info("XHR Progress",e)}},this.xhr=new XMLHttpRequest,this.xhr.onload=function(e){t.callbacks.done(e.target)},this.xhr.onprogress=function(e){e.lengthComputable?t.callbacks.progress(e.loaded/e.total):(console.warn("Could not compute xhr progress"),t.callbacks.progress(NaN))},this.xhr.onerror=function(e){t.callbacks.err(e.target.status)}}n.Req=i,n.supported=function(){try{if(!XMLHttpRequest)throw!1}catch(e){return!1}return!0}},{}],2:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.ajaxify=exports.init=exports.load=exports.scripts_wrapper=exports.wrapper=exports.enabled=void 0;var ajax=require("./ajax"),histhelp=require("./histhelp");exports.enabled=!1,exports.wrapper=null,exports.scripts_wrapper=null;var reg_link_internal=/(https:\/\/mugcat.fr\/)|\/?.*$/;function prepareToDie(e){e.classList.add("mod_leave"),setTimeout(function(){e.remove()},200)}function load(url){var rr=new ajax.Req;rr.callbacks.done=function(resp){var body=resp.response.body.getElementsByClassName("dynamic-wrapper")[0];if(body){ajaxify(body);for(var scripts=body.getElementsByTagName("script"),i_1=0;i_1<scripts.length;i_1++){console.info("Found dynamic script");var sc=scripts[i_1];eval(sc.text)}document.title=resp.response.title;for(var i=exports.wrapper.children.length;i--;){var ch=exports.wrapper.children[i];prepareToDie(ch)}for(i=body.children.length;0<i;){var ch=body.removeChild(body.children[0]);ch.classList.add("mod_enter"),exports.wrapper.appendChild(ch),setTimeout(function(){this.classList.remove("mod_enter")}.bind(ch),200),i=body.children.length}window.page_loaded&&window.page_loaded()}else console.error("Could not find dynamic wrapper :(")},rr.html(url)}function init(){exports.enabled=ajax.supported()&&histhelp.supported(),exports.wrapper=document.getElementsByClassName("dynamic-wrapper")[0],exports.wrapper||(console.error("Could not find dynamic wrapper"),exports.enabled=!1),exports.enabled&&window.addEventListener("popstate",function(){load(window.location.toString())}),ajaxify(document.body),window.page_loaded&&window.page_loaded()}function ajaxify(e){for(var n=e.getElementsByTagName("a"),t=0;t<n.length;t++)!function(e){var t=n[e];t.hostname!=location.hostname||"_blank"===t.target||t.hasAttribute("noajax")||(console.debug("Found internal link",t),t.onclick=function(e){e.preventDefault(),history.pushState({},"",t.href),load(t.href)})}(t)}exports.load=load,exports.init=init,exports.ajaxify=ajaxify},{"./ajax":1,"./histhelp":4}],3:[function(e,t,n){"use strict";n.__esModule=!0;var i=(o.prototype.menu_hide=function(){this.dom.main_nav.classList.add("mod_hidden")},o.prototype.menu_show=function(){this.dom.main_nav.classList.remove("mod_hidden")},o);function o(e){this.dom={main:HTMLElement=null,main_nav:HTMLElement=null},this.unfold_height=0,e?(this.dom.main=e,this.dom.main_nav=e.getElementsByClassName("main-nav")[0],this.dom.main_nav?(this.unfold_height=this.dom.main_nav.innerHeight,console.log(" => unfold menu height",this.unfold_height)):console.error("Could not find main nav")):console.error("No header")}n.default=i},{}],4:[function(e,t,n){"use strict";n.__esModule=!0,n.supported=void 0,n.supported=function(){return!(!window.history||!history.pushState)}},{}],5:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("./components/header"),o=e("./lib/triangles"),r=e("./ajax"),a=e("./ajaxifier");window.addEventListener("load",function(){window.components=Object(),window.ajax=r,window.ajaxifier=a,window.components.header=new i.default(document.getElementsByTagName("header")[0]),console.log(" __  __                       _      __      \n|  \\/  |                     | |    / _|     \n| \\  / |_   _  __ _  ___ __ _| |_  | |_ _ __ \n| |\\/| | | | |/ _` |/ __/ _` | __| |  _| '__|\n| |  | | |_| | (_| | (_| (_| | |_ _| | | |   \n|_|  |_|\\__,_|\\__, |\\___\\__,_|\\__(_)_| |_|   \n               __/ |\n              |___/   By Florian Dupeyron (floolfy)\n"),console.info("Init triangles background"),window.components.triangles=o.default(document.getElementsByClassName("main-background")[0]),console.info("Init ajaxifier"),a.init()})},{"./ajax":1,"./ajaxifier":2,"./components/header":3,"./lib/triangles":9}],6:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("./resize_event"),e=(o.prototype.size_update=function(){this.size={width:this.dom.wrapper.clientWidth,height:this.dom.wrapper.clientHeight},this.dom.canvas.width=this.size.width,this.dom.canvas.height=this.size.height,this.callbacks.resize.call(this)},o.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size.width,this.size.height),this.ctx.save(),this.callbacks.draw.call(this),this.ctx.restore()},o);function o(e){var t=this;this.size={width:0,height:0},this.dom={wrapper:e,canvas:e.getElementsByTagName("canvas")[0]},this.callbacks={resize:function(){},draw:function(){}},this.size_update(),this.ctx=this.dom.canvas.getContext("2d"),i.default.add(function(){t.size_update()})}n.default=e},{"./resize_event":8}],7:[function(e,t,n){var i;!function(){"use strict";var w=1/1048576;function f(e,t,n,i){var o,r,a,s,d,l,h,u=e[t][0],c=e[t][1],p=e[n][0],f=e[n][1],_=e[i][0],m=e[i][1],g=Math.abs(c-f),e=Math.abs(f-m);if(g<w&&e<w)throw new Error("Eek! Coincident points!");return h=g<w?(r=-(_-p)/(m-f))*((l=(p+u)/2)-(s=(p+_)/2))+(h=(f+m)/2):e<w?(o=-(p-u)/(f-c))*((l=(_+p)/2)-(a=(u+p)/2))+(d=(c+f)/2):(l=((o=-(p-u)/(f-c))*(a=(u+p)/2)-(r=-(_-p)/(m-f))*(s=(p+_)/2)+(h=(f+m)/2)-(d=(c+f)/2))/(o-r),e<g?o*(l-a)+d:r*(l-s)+h),{i:t,j:n,k:i,x:l,y:h,r:(l=p-l)*l+(h=f-h)*h}}i={triangulate:function(n,e){var t,i,o,r,a,s,d,l,h,u,c,p=n.length;if(p<3)return[];if(n=n.slice(0),e)for(t=p;t--;)n[t]=n[t][e];for(o=new Array(p),t=p;t--;)o[t]=t;for(o.sort(function(e,t){return n[t][0]-n[e][0]}),r=function(e){for(var t,n,i,o=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,d=e.length;d--;)e[d][0]<o&&(o=e[d][0]),e[d][0]>a&&(a=e[d][0]),e[d][1]<r&&(r=e[d][1]),e[d][1]>s&&(s=e[d][1]);return i=s-r,[[(n=o+.5*(t=a-o))-20*(t=Math.max(t,i)),(i=r+.5*i)-t],[n,i+20*t],[n+20*t,i-t]]}(n),n.push(r[0],r[1],r[2]),a=[f(n,p+0,p+1,p+2)],s=[],d=[],t=o.length;t--;d.length=0){for(c=o[t],i=a.length;i--;)0<(l=n[c][0]-a[i].x)&&l*l>a[i].r?(s.push(a[i]),a.splice(i,1)):l*l+(l=n[c][1]-a[i].y)*l-a[i].r>w||(d.push(a[i].i,a[i].j,a[i].j,a[i].k,a[i].k,a[i].i),a.splice(i,1));for(!function(e){for(var t,n,i,o,r,a=e.length;a;)for(i=e[--a],n=e[--a],t=a;t;)if(r=e[--t],n===(o=e[--t])&&i===r||n===r&&i===o){e.splice(a,2),e.splice(t,2);break}}(d),i=d.length;i;)u=d[--i],h=d[--i],a.push(f(n,h,u,c))}for(t=a.length;t--;)s.push(a[t]);for(a.length=0,t=s.length;t--;)s[t].i<p&&s[t].j<p&&s[t].k<p&&a.push(s[t].i,s[t].j,s[t].k);return a},contains:function(e,t){if(t[0]<e[0][0]&&t[0]<e[1][0]&&t[0]<e[2][0]||t[0]>e[0][0]&&t[0]>e[1][0]&&t[0]>e[2][0]||t[1]<e[0][1]&&t[1]<e[1][1]&&t[1]<e[2][1]||t[1]>e[0][1]&&t[1]>e[1][1]&&t[1]>e[2][1])return null;var n=e[1][0]-e[0][0],i=e[2][0]-e[0][0],o=e[1][1]-e[0][1],r=e[2][1]-e[0][1],a=n*r-i*o;if(0==a)return null;i=(r*(t[0]-e[0][0])-i*(t[1]-e[0][1]))/a,a=(n*(t[1]-e[0][1])-o*(t[0]-e[0][0]))/a;return i<0||a<0||1<i+a?null:[i,a]}},void 0!==t&&(t.exports=i)}()},{}],8:[function(e,t,n){"use strict";n.__esModule=!0;var i,o,r,a,s=(o=66,a=!(r=[]),h(function(){console.debug("Got new window size : ",{width:window.innerWidth,height:window.innerHeight})}),{add:h});function d(){a&&i&&clearTimeout(i),a=!0,i=setTimeout(function(){requestAnimationFrame(l)},o)}function l(){a=!1;for(var e=0;e<r.length;e++)r[e]()}function h(e){r.length||window.addEventListener("resize",d),r.push(e)}n.default=s},{}],9:[function(e,t,n){"use strict";n.__esModule=!0,e("./delaunay");var h=e("./canvas");n.default=function(e){var o=.2,t=!1,r=new h.default(e),a=[],s=[];function n(){console.debug("Generating triangle points !"),a=[],s=[];for(var e=0;e<30;e++){var t=[Math.random()*r.size.width,Math.random()*r.size.height];a.push(t);t=[2*Math.random()*o-o,2*Math.random()*o-o];s.push(t)}for(e=0;e<5;e++)a.push([0,r.size.height/5*e]),a.push([r.size.width,r.size.height/5*e]),a.push([r.size.width/5*e,0]),a.push([r.size.width/5*e,r.size.height])}var d=[];function i(){for(var e,t=0;t<30;t++)a[e=t][0]+=s[e][0],a[e][1]+=s[e][1],a[e][0]<0?(a[e][0]=r.size.width,a[e][1]=Math.random()*r.size.height,s[e][0]=Math.random()*-o):a[e][0]>r.size.width&&(a[e][0]=0,a[e][1]=Math.random()*r.size.height,s[e][0]=Math.random()*o),a[e][1]<0?(a[e][1]=r.size.height,a[e][0]=Math.random()*r.size.width,s[e][1]=Math.random()*-o):a[e][1]>r.size.height&&(a[e][1]=0,a[e][0]=Math.random()*r.size.width,s[e][1]=Math.random()*o);for(var n,i=Delaunay.triangulate(a),t=i.length;t;)d[0]=a[i[t-1]],d[1]=a[i[t-2]],d[2]=a[i[t-3]],t-=3,n=d,r.ctx.strokeStyle="rgba(198, 147, 149, 0.05)",r.ctx.lineWidth=3,r.ctx.beginPath(),r.ctx.moveTo(n[0][0],n[0][1]),r.ctx.lineTo(n[1][0],n[1][1]),r.ctx.lineTo(n[2][0],n[2][1]),r.ctx.stroke()}function l(e){r.draw(e),t&&requestAnimationFrame(l)}return r.callbacks.resize=function(){n(),requestAnimationFrame(l)},r.callbacks.draw=function(){i()},n(),requestAnimationFrame(l),{set_animate:function(e){console.debug("set animate",e),(t=e)&&requestAnimationFrame(l)}}}},{"./canvas":6,"./delaunay":7}]},{},[5]);
//# sourceMappingURL=index.js.map
