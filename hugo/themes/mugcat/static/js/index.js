!function i(o,r,a){function s(t,e){if(!r[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=r[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,i,o,r,a)}return r[t].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";function i(){var t=this;this.callbacks={done:function(e){console.info("XHR Done",e)},err:function(e){console.error("XHR Error",e)},progress:function(e){console.info("XHR Progress",e)}},this.xhr=new XMLHttpRequest,this.xhr.onload=function(e){t.callbacks.done(e.target)},this.xhr.onprogress=function(e){e.lengthComputable?t.callbacks.progress(e.loaded/e.total):(console.warn("Could not compute xhr progress"),t.callbacks.progress(NaN))},this.xhr.onerror=function(e){t.callbacks.err(e.target.status)}}n.__esModule=!0,n.supported=n.Req=void 0,i.prototype.html=function(e){this.xhr.responseType="document",this.xhr.open("GET",e,!0),this.xhr.send(null)},n.Req=i,n.supported=function(){try{if(!XMLHttpRequest)throw!1}catch(e){return!1}return!0}},{}],2:[function(require,module,exports){"use strict";exports.__esModule=!0,exports.ajaxify=exports.init=exports.load=exports.scripts_wrapper=exports.wrapper=exports.enabled=void 0;var ajax=require("./ajax"),histhelp=require("./histhelp"),reg_link_internal=(exports.enabled=!1,exports.wrapper=null,exports.scripts_wrapper=null,/(https:\/\/mugcat.fr\/)|\/?.*$/);function prepareToDie(e){e.classList.add("mod_leave"),setTimeout(function(){e.remove()},200)}function load(url){var rr=new ajax.Req;rr.callbacks.done=function(resp){var body=resp.response.body.getElementsByClassName("dynamic-wrapper")[0];if(body){ajaxify(body);for(var scripts=body.getElementsByTagName("script"),i_1=0;i_1<scripts.length;i_1++){console.info("Found dynamic script");var sc=scripts[i_1];eval(sc.text)}document.title=resp.response.title;for(var i=exports.wrapper.children.length;i--;){var ch=exports.wrapper.children[i];prepareToDie(ch)}for(i=body.children.length;0<i;){var ch=body.removeChild(body.children[0]);ch.classList.add("mod_enter"),exports.wrapper.appendChild(ch),setTimeout(function(){this.classList.remove("mod_enter")}.bind(ch),200),i=body.children.length}window.page_loaded&&window.page_loaded(),window.add_comments&&window.add_comments()}else console.error("Could not find dynamic wrapper :(")},rr.html(url)}function init(){exports.enabled=ajax.supported()&&histhelp.supported(),exports.wrapper=document.getElementsByClassName("dynamic-wrapper")[0],exports.wrapper||(console.error("Could not find dynamic wrapper"),exports.enabled=!1),exports.enabled&&window.addEventListener("popstate",function(){load(window.location.toString())}),ajaxify(document.body),window.page_loaded&&window.page_loaded(),window.add_comments&&window.add_comments()}function ajaxify(e){for(var n=e.getElementsByTagName("a"),t=0;t<n.length;t++)!function(e){var t=n[e];t.hostname!=location.hostname||"_blank"===t.target||t.hasAttribute("noajax")||(console.debug("Found internal link",t),t.onclick=function(e){e.preventDefault(),history.pushState({},"",t.href),load(t.href)})}(t)}exports.load=load,exports.init=init,exports.ajaxify=ajaxify},{"./ajax":1,"./histhelp":4}],3:[function(e,t,n){"use strict";function i(e){this.dom={main:HTMLElement=null,main_nav:HTMLElement=null},this.unfold_height=0,e?(this.dom.main=e,this.dom.main_nav=e.getElementsByClassName("main-nav")[0],this.dom.main_nav?(this.unfold_height=this.dom.main_nav.innerHeight,console.log(" => unfold menu height",this.unfold_height)):console.error("Could not find main nav")):console.error("No header")}n.__esModule=!0,i.prototype.menu_hide=function(){this.dom.main_nav.classList.add("mod_hidden")},i.prototype.menu_show=function(){this.dom.main_nav.classList.remove("mod_hidden")},n.default=i},{}],4:[function(e,t,n){"use strict";n.__esModule=!0,n.supported=void 0,n.supported=function(){return!(!window.history||!history.pushState)}},{}],5:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("./components/header"),o=e("./lib/triangles"),r=e("./ajax"),a=e("./ajaxifier");window.addEventListener("load",function(){window.components=Object(),window.ajax=r,window.ajaxifier=a,window.components.header=new i.default(document.getElementsByTagName("header")[0]),console.log(" __  __                       _      __      \n|  \\/  |                     | |    / _|     \n| \\  / |_   _  __ _  ___ __ _| |_  | |_ _ __ \n| |\\/| | | | |/ _` |/ __/ _` | __| |  _| '__|\n| |  | | |_| | (_| | (_| (_| | |_ _| | | |   \n|_|  |_|\\__,_|\\__, |\\___\\__,_|\\__(_)_| |_|   \n               __/ |\n              |___/   By Florian Dupeyron (floolfy)\n"),console.info("Init triangles background"),window.components.triangles=(0,o.default)(document.getElementsByClassName("main-background")[0]),console.info("Init ajaxifier"),a.init()})},{"./ajax":1,"./ajaxifier":2,"./components/header":3,"./lib/triangles":9}],6:[function(e,t,n){"use strict";n.__esModule=!0;var i=e("./resize_event");function o(e){var t=this;this.size={width:0,height:0},this.dom={wrapper:e,canvas:e.getElementsByTagName("canvas")[0]},this.callbacks={resize:function(){},draw:function(){}},this.size_update(),this.ctx=this.dom.canvas.getContext("2d"),i.default.add(function(){t.size_update()})}o.prototype.size_update=function(){this.size={width:this.dom.wrapper.clientWidth,height:this.dom.wrapper.clientHeight},this.dom.canvas.width=this.size.width,this.dom.canvas.height=this.size.height,this.callbacks.resize.call(this)},o.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size.width,this.size.height),this.ctx.save(),this.callbacks.draw.call(this),this.ctx.restore()},n.default=o},{"./resize_event":8}],7:[function(e,t,n){var i;!function(){"use strict";var y=1/1048576;function b(e,t,n,i){var o,r,a,s,d,h,l,c=e[t][0],u=e[t][1],p=e[n][0],f=e[n][1],_=e[i][0],e=e[i][1],m=Math.abs(u-f),w=Math.abs(f-e);if(m<y&&w<y)throw new Error("Eek! Coincident points!");return c=m<y?(a=-(_-p)/(e-f))*((o=(p+c)/2)-(d=(p+_)/2))+(l=(f+e)/2):w<y?(r=-(p-c)/(f-u))*((o=(_+p)/2)-(s=(c+p)/2))+(h=(u+f)/2):(o=((r=-(p-c)/(f-u))*(s=(c+p)/2)-(a=-(_-p)/(e-f))*(d=(p+_)/2)+(l=(f+e)/2)-(h=(u+f)/2))/(r-a),w<m?r*(o-s)+h:a*(o-d)+l),{i:t,j:n,k:i,x:o,y:c,r:(_=p-o)*_+(e=f-c)*e}}i={triangulate:function(n,e){var t,i,o,r,a,s,d,h,l,c,u,p=n.length;if(p<3)return[];if(n=n.slice(0),e)for(t=p;t--;)n[t]=n[t][e];for(o=new Array(p),t=p;t--;)o[t]=t;for(o.sort(function(e,t){return n[t][0]-n[e][0]}),r=function(e){for(var t,n,i,o=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,d=e.length;d--;)e[d][0]<o&&(o=e[d][0]),e[d][0]>a&&(a=e[d][0]),e[d][1]<r&&(r=e[d][1]),e[d][1]>s&&(s=e[d][1]);return i=s-r,[[(n=o+.5*(t=a-o))-20*(t=Math.max(t,i)),(i=r+.5*i)-t],[n,i+20*t],[n+20*t,i-t]]}(n),n.push(r[0],r[1],r[2]),a=[b(n,p+0,p+1,p+2)],s=[],d=[],t=o.length;t--;d.length=0){for(u=o[t],i=a.length;i--;)0<(h=n[u][0]-a[i].x)&&h*h>a[i].r?(s.push(a[i]),a.splice(i,1)):h*h+(h=n[u][1]-a[i].y)*h-a[i].r>y||(d.push(a[i].i,a[i].j,a[i].j,a[i].k,a[i].k,a[i].i),a.splice(i,1));g=w=m=_=v=f=x=void 0;for(var f,_,m,w,g,x=d,v=x.length;v;)for(m=x[--v],_=x[--v],f=v;f;)if(g=x[--f],_===(w=x[--f])&&m===g||_===g&&m===w){x.splice(v,2),x.splice(f,2);break}for(i=d.length;i;)c=d[--i],l=d[--i],a.push(b(n,l,c,u))}for(t=a.length;t--;)s.push(a[t]);for(a.length=0,t=s.length;t--;)s[t].i<p&&s[t].j<p&&s[t].k<p&&a.push(s[t].i,s[t].j,s[t].k);return a},contains:function(e,t){var n,i,o,r,a;return t[0]<e[0][0]&&t[0]<e[1][0]&&t[0]<e[2][0]||t[0]>e[0][0]&&t[0]>e[1][0]&&t[0]>e[2][0]||t[1]<e[0][1]&&t[1]<e[1][1]&&t[1]<e[2][1]||t[1]>e[0][1]&&t[1]>e[1][1]&&t[1]>e[2][1]||(n=e[1][0]-e[0][0],a=e[2][0]-e[0][0],i=e[1][1]-e[0][1],0==(o=n*(r=e[2][1]-e[0][1])-a*i))||(r=(r*(t[0]-e[0][0])-a*(t[1]-e[0][1]))/o,a=(n*(t[1]-e[0][1])-i*(t[0]-e[0][0]))/o,r<0)||a<0||1<r+a?null:[r,a]}},void 0!==t&&(t.exports=i)}()},{}],8:[function(e,t,n){"use strict";n.__esModule=!0;o=66,a=!(r=[]),l(function(){console.debug("Got new window size : ",{width:window.innerWidth,height:window.innerHeight})});var i,o,r,a,s={add:l};function d(){a&&i&&clearTimeout(i),a=!0,i=setTimeout(function(){requestAnimationFrame(h)},o)}function h(){a=!1;for(var e=0;e<r.length;e++)r[e]()}function l(e){r.length||window.addEventListener("resize",d),r.push(e)}n.default=s},{}],9:[function(e,t,n){"use strict";n.__esModule=!0,e("./delaunay");var l=e("./canvas");n.default=function(e){var o=.2,t=!1,r=new l.default(e),a=[],s=[];function n(){console.debug("Generating triangle points !"),a=[],s=[];for(var e=0;e<30;e++){var t=[Math.random()*r.size.width,Math.random()*r.size.height],t=(a.push(t),[2*Math.random()*o-o,2*Math.random()*o-o]);s.push(t)}for(e=0;e<5;e++)a.push([0,r.size.height/5*e]),a.push([r.size.width,r.size.height/5*e]),a.push([r.size.width/5*e,0]),a.push([r.size.width/5*e,r.size.height])}var d=[];function i(){for(var e,t=0;t<30;t++)a[e=t][0]+=s[e][0],a[e][1]+=s[e][1],a[e][0]<0?(a[e][0]=r.size.width,a[e][1]=Math.random()*r.size.height,s[e][0]=Math.random()*-o):a[e][0]>r.size.width&&(a[e][0]=0,a[e][1]=Math.random()*r.size.height,s[e][0]=Math.random()*o),a[e][1]<0?(a[e][1]=r.size.height,a[e][0]=Math.random()*r.size.width,s[e][1]=Math.random()*-o):a[e][1]>r.size.height&&(a[e][1]=0,a[e][0]=Math.random()*r.size.width,s[e][1]=Math.random()*o);for(var n,i=Delaunay.triangulate(a),t=i.length;t;)d[0]=a[i[t-1]],d[1]=a[i[t-2]],d[2]=a[i[t-3]],t-=3,n=d,r.ctx.strokeStyle="rgba(198, 147, 149, 0.05)",r.ctx.lineWidth=3,r.ctx.beginPath(),r.ctx.moveTo(n[0][0],n[0][1]),r.ctx.lineTo(n[1][0],n[1][1]),r.ctx.lineTo(n[2][0],n[2][1]),r.ctx.stroke()}function h(e){r.draw(e),t&&requestAnimationFrame(h)}return r.callbacks.resize=function(){n(),requestAnimationFrame(h)},r.callbacks.draw=function(){i()},n(),requestAnimationFrame(h),{set_animate:function(e){console.debug("set animate",e),(t=e)&&requestAnimationFrame(h)}}}},{"./canvas":6,"./delaunay":7}]},{},[5]);
//# sourceMappingURL=index.js.map
